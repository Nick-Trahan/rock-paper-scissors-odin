<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" comtent="width=device-width, initial-scale=0.86, maximum-scale=3.0, minimum-scale=0.86">
  <title>Rock, Paper, Scissors, SHOOT!!</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <div id="intro-div" class="game-fields">
    <h1 id="title">Rock, Paper, Scissors</h1>
    <p id='instructions'>Instructions go here</p>
    <button id="go-button" class="game-buttons">Start Game</button>
  </div>
  <div id="input-div" class="game-fields">
    <button id="rock" class="game-buttons">Rock</button>
    <button id="paper" class="game-buttons">Paper</button>
    <button id="scissors" class="game-buttons">Scissors</button>
  </div>
  <div id="results-div" class="game-fields">
    <p id="round-results" class="results"></p>
    <p id="player-score" class="scores"></p>
    <p id="computer-score" class="scores"></p>
    <p id="game-winner" class="results"></p>
  </div>
  <script>
    const btnRock = document.querySelector('#rock');
    const btnPaper = document.querySelector('#paper');
    const btnScissors = document.querySelector('#scissors');
    const btnGo = document.querySelector('#go-button')
    const divInput = document.querySelector('#input-div');
    const divResults = document.querySelector('#results-div');
    const fieldRoundResults = document.querySelector('#round-results');
    const fieldPlayerScore= document.querySelector('#player-score');
    const fieldComputerScore = document.querySelector('#computer-score');
    const fieldGameWinner = document.querySelector('#game-winner');

    // divInput.addEventListener('click', function (event) {const clickedButton = event.target; humanPlay(clickedButton);});

    function humanPlay(button) {
      const playerInput = button.id;
      const smallInput = playerInput.toLowerCase();
      const humanMove = smallInput.charAt(0).toUpperCase() + smallInput.slice(1);

      return humanMove;
    }

    function computerPlay() {
      const gameMoves = ['Rock', 'Paper', 'Scissors'];
      const randomizer = Math.floor(Math.random() * 3);
      const randomMove = gameMoves[randomizer];

      return randomMove;
    }

    function playRound(playerSelection, computerSelection) {
      const win = 'win';
      const lose = 'lose';
      const tie = 'tie';
      const broken = 'broken';

      switch(computerSelection) {
        case 'Rock':
          if(playerSelection === 'Paper') {
            return win;

          } else if(playerSelection === 'Scissors') {
            return lose;

          } else if(playerSelection === 'Rock') {
              return tie;

          } else {
            return broken;
          }
          break;

        case 'Paper':
          if(playerSelection === 'Scissors') {
            return win;

          } else if(playerSelection === 'Rock') {
            return lose;

          } else if(playerSelection === 'Paper') {
            return tie;

          } else {
              return broken;
          }
          break;

        case 'Scissors':
          if(playerSelection === 'Rock') {
            return win;

          } else if(playerSelection === 'Paper') {
            return lose;

          } else if(playerSelection === 'Scissors') {
            return tie;

          } else {
            return broken;
          }
          break;
        }
      }
      
      function game() {
        let playerScore = 0;
        let computerScore = 0;

        for(let i = 0; i < 5; i++) {
          const playerSelection = humanPlay();
          const computerSelection = computerPlay();

          const round = playRound(playerSelection, computerSelection);

          switch(round) {
            case 'win':
              playerScore++;
              console.log('Round ' + (i + 1) + ': ' + 'You Win! ' + playerSelection + ' beats ' +  computerSelection + '.');
              break;
          
            case 'lose':
              computerScore++;
              console.log('Round ' + (i + 1) + ': ' + 'You Lose! ' + computerSelection + ' beats ' +  playerSelection + '.');
              break;

            case 'tie':
              console.log('Round ' + (i + 1) + ': ' + 'It\'s a tie!');
              break;

            default:
              i--;
              console.log('Round ' + (i + 2) + ': ' + 'Invalid input, try again.');
          }
        }
        
        if(playerScore > computerScore) {
          console.log('You Win the Game!! ' + playerScore + ' to ' + computerScore);
        } else if(playerScore < computerScore) {
          console.log('You Lose the Game!! ' + playerScore + ' to ' + computerScore);
        } else if(playerScore === computerScore) {
          console.log('It\'s a Tie!! ' + playerScore + ' to ' + computerScore);
        } else {
          console.log('Broken');
        }
      }
    </script>
</body>
</html>
